<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://unpkg.com/masonry-layout@4.1.1/dist/masonry.pkgd.min.js"></script>

<body onload="drawCharts()"></body>
<div class="WebsiteHeading">
    Parliamentary Budget Office Visualizations

</div>
<div class="floatingbox">

    <div class="PoliticalParty">
        
        <button class="collapsible" id="collapsible-button-0"
            onclick="toggleCollapsibleSectionWithAnimation.call(this)">
            <div class="ChartHeading">
                Coalition</div>
        </button>

        <div class="collapsible-content" id="collapsible-section-0" style="max-height: 100%">
            <div class="ChartExplain">
                <div class="ChartBox">
                    <canvas id="Efficiency"></canvas>
                </div>
            </div>


        </div>
    </div>

    <div class="PoliticalParty">

        <button class="collapsible" id="collapsible-button-1"
            onclick="toggleCollapsibleSectionWithAnimation.call(this)">
            <div class="ChartHeading">
                Labour</div>
        </button>

        <div class="collapsible-content" id="collapsible-section-1" style="max-height: 100%">
            <div class="ChartExplain">
                <div class="ChartBox">
                    <canvas id="Efficiency1"></canvas>
                </div>
            </div>


        </div>
    </div>


    <div class="PoliticalParty">

        <button class="collapsible" id="collapsible-button-2"
            onclick="toggleCollapsibleSectionWithAnimation.call(this)">
            <div class="ChartHeading">
                Greens</div>
        </button>

        <div class="collapsible-content" id="collapsible-section-2" style="max-height: 100%">
            <div class="ChartExplain">
                <div class="ChartBox">
                    <canvas id="Efficiency2"></canvas>
                </div>
            </div>


        </div>
    </div>
</div>


<script>

    function drawCharts() {
        var ctx = document.getElementById('Efficiency');
        var options = {
            animation: {
                duration: 2000
            },
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true,
                        steps: 10,
                        stepValue: 0.5,
                        max: 3
                    }
                }]
            },
            maintainAspectRatio: false
        };

        var myChart1 = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['2018', '2019', '2020', '2021', '2022'],
                datasets: [{
                    label: 'Current',
                    backgroundColor: 'rgb(255, 99, 132)',
                    borderColor: 'rgb(255, 99, 132)',
                    fill: false,
                    data: [2.0, 1.5, 1.0, 1.0, 1.0],
                }, {
                    label: 'Proposed',
                    backgroundColor: 'rgb(54, 162, 235)',
                    borderColor: 'rgb(54, 162, 235)',
                    fill: false,
                    data: [2.0, 2.0, 2.0, 1.5, 1.0],
                }]
            },
            options: options

        });

        var ctx = document.getElementById('Efficiency1');
        var options = {
            animation: {
                duration: 2000
            },
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true,
                        steps: 10,
                        stepValue: 0.5,
                        max: 3
                    }
                }]
            },
            maintainAspectRatio: false
        };

        var myChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['2018', '2019', '2020', '2021', '2022'],
                datasets: [{
                    label: 'Current',
                    backgroundColor: 'rgb(255, 99, 132)',
                    borderColor: 'rgb(255, 99, 132)',
                    fill: false,
                    data: [2.0, 1.5, 1.0, 1.0, 1.0],
                }, {
                    label: 'Proposed',
                    backgroundColor: 'rgb(54, 162, 235)',
                    borderColor: 'rgb(54, 162, 235)',
                    fill: false,
                    data: [2.0, 2.0, 2.0, 1.5, 1.0],
                }]
            },
            options: options

        });

        var ctx = document.getElementById('Efficiency2');
        var options = {
            animation: {
                duration: 2000
            },
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true,
                        steps: 10,
                        stepValue: 0.5,
                        max: 3
                    }
                }]
            },
            maintainAspectRatio: false
        };

        var myChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['2018', '2019', '2020', '2021', '2022'],
                datasets: [{
                    label: 'Current',
                    backgroundColor: 'rgb(255, 99, 132)',
                    borderColor: 'rgb(255, 99, 132)',
                    fill: false,
                    data: [2.0, 1.5, 1.0, 1.0, 1.0],
                }, {
                    label: 'Proposed',
                    backgroundColor: 'rgb(54, 162, 235)',
                    borderColor: 'rgb(54, 162, 235)',
                    fill: false,
                    data: [2.0, 2.0, 2.0, 1.5, 1.0],
                }]
            },
            options: options

        });


    }

    function toggleCollapsibleSectionWithAnimation() {
        this.classList.toggle("collapsible-active");
        var buttonId = this.id;
        var sectionId = buttonId.replace("button", "section");
        var content = document.getElementById(sectionId);
        var mHeight = window.getComputedStyle(content).maxHeight;
        if (mHeight !== "0px") {
            content.style.maxHeight = "0px";
        } else {
            content.style.maxHeight = "100%";
        }
    }
    
    $('.wrapper').masonry({
  columnWidth: 1,
  itemSelector: '.block'
});
</script>

<style>
    .ChartExplain {
        text-align: center;
        margin-bottom: 40px;
    }

    .wrapper {
  background-color:red;
  width:220px;
}

    .ChartBox {
        height: 400;
        width: 600;
        margin: 0 auto;
        margin-top: 40px;
        text-align: center;
    }

    .WebsiteHeading {
        text-align: center;
        font-size: 4rem;
    }

    .ChartHeading {
        font-size: 2rem;
    }

    .floatingbox {
        margin-top: 40px;

    }
 /* Something to do with these classes iMO  */
    .PoliticalParty {
        display: inline-block;
        text-align: center;

    }

    /* Style the button that is used to open and close the collapsible content */
    /* Style the button that is used to open and close the collapsible content */
    .collapsible {
        background-color: transparent;
        color: #444;
        cursor: pointer;
        width: auto;
        border: none;
        text-align: left;
        outline: none;
        font-size: 15px;
    }

    /* Add a background color to the button if it is clicked on (add the .active class with JS), and when you move the mouse over it (hover) */
    .collapsible-active,
    .collapsible:hover {
        text-decoration: underline;
    }

    /* Style the collapsible content. Note: hidden by default */
    .collapsible-content {
        max-height: 100%;
        padding: 10px;
        overflow: hidden;
        transition: max-height 0.2s ease-out;
    }

    /* Style the collapsible content. Note: shown by default */
    .collapsible-content-shown-by-default {
        max-height: 100%;
        padding: 10px;
        overflow: hidden;
        transition: max-height 0.2s ease-out;
    }
</style>